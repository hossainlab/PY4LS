<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Alison Hill" />


<title>CONJ620: CM 1.6</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->



<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">CONJ 620</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="cm.html">
    <span class="fa fa-chalkboard-teacher"></span>
     
    Class Meetings
  </a>
</li>
<li>
  <a href="due.html">
    <span class="fa fa-calendar-check"></span>
     
    Due Dates
  </a>
</li>
<li>
  <a href="https://distracted-bhabha-a42d09.netlify.com">
    <span class="fa fa-key"></span>
     
    Grades
  </a>
</li>
<li>
  <a href="https://www.datacamp.com/enterprise/conj-620-introduction-to-biostatistics-for-the-basic-sciences-data-wrangling-analysis-communication">
    <span class="fa fa-user-ninja"></span>
     
    DataCamp
  </a>
</li>
<li>
  <a href="https://sakai.ohsu.edu/portal/site/CONJ-620-1-2040-Su18">
    <span class="fa fa-university"></span>
     
    Sakai
  </a>
</li>
<li>
  <a href="https://gitter.im/conj620/Lobby?utm_source=share-link&amp;utm_medium=link&amp;utm_campaign=share-link">
    <span class="fa fa-comments"></span>
     
    Gitter Chat
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">
    <span class="fa fa-cogs"></span>
     
    About
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">CONJ620: CM 1.6</h1>
<h3 class="subtitle"><em>Integrative Lab</em></h3>
<h4 class="author"><em>Alison Hill</em></h4>

</div>


<div id="overview" class="section level2">
<h2>Overview</h2>
<p>A complete knitted <code>html</code> file is due on Sakai by beginning of class Tuesday July 17th (2:30pm). In class on that Tuesday, you’ll pair up with another student and review each others’ reports. Your final lab is due on Sakai by beginning of class Thursday July 19th (2:30pm).</p>
<p>The goal is to carefully, thoroughly, and thoughtfully conduct an exploratory data analysis (EDA). You are also asked to communicate clearly about the steps in your EDA process with others, by sharing your R code, output, and narrative. As such, your code cannot “stand alone”- it is meant to complement / enhance / support your narrative.</p>
</div>
<div id="tools" class="section level2">
<h2>Tools</h2>
<p>You will use R Markdown to construct your EDA. You’ll submit your work as an html file knit from your <code>.Rmd</code> file (please leave the default code chunk options for <code>eval = TRUE</code> and <code>echo = TRUE</code>). In that document, you’ll use <code>dplyr</code>, <code>tidyr</code>, and <code>ggplot2</code> to do description and visualization. You may also wish to use the <code>janitor</code> package to make <code>tabyl</code>s, and some of the accompanying <code>adorn</code> functions.</p>
<p>Your lab should serve as your own personal cheatsheet in the future for things to do with a new dataset. Give yourself the cheatsheet you deserve! Remember:</p>
<ul>
<li><code>rmarkdown</code> should be your EDA <em>documentation</em> tool</li>
<li>your own words with <code>markdown</code> formatting are your ONLY <em>narrative</em> tool</li>
<li><code>dplyr</code> should be your <em>data manipulation</em> tool</li>
<li><code>tidyr</code> should be your <em>data reshaping</em> tool</li>
<li><code>janitor::tabyl</code> should be your <em>data table-making</em> tool</li>
<li>you may wish to combine with <code>knitr::kable()</code> for formatting tables</li>
<li><code>ggplot2</code> should be your <em>data visualization</em> tool</li>
</ul>
<p>For all things, graphical and tabular, if you’re dissatisfied with a result, discuss the problem, what you’ve tried and move on (remember my 30-minute rule). You’ll need this loaded at the top:</p>
<pre class="r"><code>library(tidyverse) # all the good stuff
library(readxl) # for reading in xlsx files
library(here) # for here!
library(janitor) # for clean_names &amp; tabyl
library(knitr) # for kable</code></pre>
<p>The <code>tidyverse</code> meta-package includes <code>dplyr</code>, <code>ggplot2</code>, and <code>tidyr</code>.</p>
</div>
<div id="data" class="section level2">
<h2>Data</h2>
<p>You will start with the <code>reprohealth</code> dataset, which is distributed as an R package from <a href="https://cran.r-project.org/web/packages/gapminder/index.html">my personal GitHub</a>.</p>
<p>Install it, and remember to use this code only in your R console, not in a script or .Rmd file:</p>
<pre class="r"><code>install.packages(&quot;remotes&quot;) # install the remotes package
library(remotes) # load remotes package so you can install from github
install_github(&quot;apreshill/reprohealth&quot;) # install the package</code></pre>
<p>Then at the top of your lab, copy and paste this code:</p>
<pre class="r"><code>library(reprohealth) # load the package
wb_reprohealth # call the data
wb_stats &lt;- wb_reprohealth %&gt;% # save the data to your local environment
  mutate(year = parse_number(year)) # fix year</code></pre>
<p>You can name <code>wb_stats</code> anything else you want, this is just an example.</p>
</div>
<div id="explore-the-wb_reprohealth-data" class="section level2">
<h2>Explore the <code>wb_reprohealth</code> data</h2>
<p>Yes, this was <a href="cm014.html">Lab 04</a>. You should already have the code and narrative to answer these questions. Use this opportunity to <strong>clean that up</strong>. This section should be clear, concise, and well-organized, since you already have the code and words in another .Rmd document that you can just copy/paste into this lab (right?). Can you make it better? Do a self-assessment here: what could be clearer about your code or your process that you can improve upon now?</p>
<ul>
<li>How many variables/columns?</li>
<li>How many rows/observations?</li>
<li>Which variables are numbers?</li>
<li>Which are categorical variables (numeric or character variables with variables that have a fixed and known set of possible values; aka <a href="https://stats.idre.ucla.edu/r/modules/factor-variables/">factor</a> variables)?</li>
<li>Complete this sentence: “There is one row per…”</li>
</ul>
</div>
<div id="explore-a-new-dataset" class="section level2">
<h2>Explore a new dataset</h2>
<p>Go to the <a href="https://www.gapminder.org/data/">gapminder</a> site and find a new indicator that interests you.</p>
<ul>
<li><p>Download the data file to a folder in your <code>.Rproj</code> directory, and open the <code>.xlsx</code> file to see where the data is (i.e., which sheet).</p></li>
<li><p>Read the data file into your EDA .Rmd document using the <a href="https://readxl.tidyverse.org"><code>readxl</code> package</a> (remember, it must be installed first). Use the <code>here</code> package, with the <code>here</code> function, to build up the relative file path (<a href="https://github.com/jennybc/here_here">example code-through</a>). Here is an example code chunk:</p></li>
</ul>
<pre class="r"><code>internet &lt;- read_xlsx(here::here(&quot;data&quot;, &quot;Internet user per 100.xlsx&quot;),
                      sheet = 1) %&gt;% 
  clean_names() # highly recommended

internet</code></pre>
<pre><code># A tibble: 275 x 23
   internet_users_… x1990 x1991 x1992 x1993    x1994    x1995    x1996
   &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1 Abkhazia            NA    NA    NA    NA NA       NA       NA      
 2 Afghanistan          0    NA    NA    NA NA       NA       NA      
 3 Akrotiri and Dh…    NA    NA    NA    NA NA       NA       NA      
 4 Albania              0    NA    NA    NA NA        0.0112   3.22e-2
 5 Algeria              0    NA    NA    NA  3.61e-4  0.00177  1.74e-3
 6 American Samoa       0    NA    NA    NA NA       NA       NA      
 7 Andorra              0    NA    NA    NA NA       NA        1.53e+0
 8 Angola               0    NA    NA    NA NA       NA        7.76e-4
 9 Anguilla            NA    NA    NA    NA NA       NA       NA      
10 Antigua and Bar…     0    NA    NA    NA NA        2.20     2.86e+0
# ... with 265 more rows, and 15 more variables: x1997 &lt;dbl&gt;, x1998 &lt;dbl&gt;,
#   x1999 &lt;dbl&gt;, x2000 &lt;dbl&gt;, x2001 &lt;dbl&gt;, x2002 &lt;dbl&gt;, x2003 &lt;dbl&gt;,
#   x2004 &lt;dbl&gt;, x2005 &lt;dbl&gt;, x2006 &lt;dbl&gt;, x2007 &lt;dbl&gt;, x2008 &lt;dbl&gt;,
#   x2009 &lt;dbl&gt;, x2010 &lt;dbl&gt;, x2011 &lt;dbl&gt;</code></pre>
<ul>
<li>Answer the same 5 questions as you did above for the <code>reprohealth</code> data.</li>
<li>Gather the data (most data from gapminder has columns in years).</li>
</ul>
<pre class="r"><code>internet_tidy &lt;- internet %&gt;%
  rename(country = 1) %&gt;% 
  gather(year, users_per_100, -country) %&gt;% 
  mutate(year = readr::parse_number(year)) </code></pre>
<pre class="r"><code># another example dataset
age_marriage &lt;- read_xlsx(here::here(&quot;data&quot;, &quot;indicator age of marriage.xlsx&quot;),
                      sheet = 1) 

age_marriage</code></pre>
<pre><code># A tibble: 185 x 117
   ..1   `1616.0` `1666.0` `1685.0` `1710.0` `1716.0` `1735.0` `1760.0`
   &lt;chr&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1 Afgh…       NA       NA       NA       NA       NA       NA       NA
 2 Alba…       NA       NA       NA       NA       NA       NA       NA
 3 Alge…       NA       NA       NA       NA       NA       NA       NA
 4 Ango…       NA       NA       NA       NA       NA       NA       NA
 5 Arge…       NA       NA       NA       NA       NA       NA       NA
 6 Arme…       NA       NA       NA       NA       NA       NA       NA
 7 Aust…       NA       NA       NA       NA       NA       NA       NA
 8 Aust…       NA       NA       NA       NA       NA       NA       NA
 9 Azer…       NA       NA       NA       NA       NA       NA       NA
10 Baha…       NA       NA       NA       NA       NA       NA       NA
# ... with 175 more rows, and 109 more variables: `1766.0` &lt;dbl&gt;,
#   `1775.0` &lt;dbl&gt;, `1780.0` &lt;dbl&gt;, `1785.0` &lt;dbl&gt;, `1791.0` &lt;dbl&gt;,
#   `1800.0` &lt;dbl&gt;, `1810.0` &lt;dbl&gt;, `1815.0` &lt;dbl&gt;, `1825.0` &lt;dbl&gt;,
#   `1835.0` &lt;dbl&gt;, `1840.0` &lt;dbl&gt;, `1845.0` &lt;dbl&gt;, `1855.0` &lt;dbl&gt;,
#   `1860.0` &lt;dbl&gt;, `1865.0` &lt;dbl&gt;, `1866.0` &lt;dbl&gt;, `1870.0` &lt;dbl&gt;,
#   `1875.0` &lt;dbl&gt;, `1879.0` &lt;dbl&gt;, `1880.0` &lt;dbl&gt;, `1885.0` &lt;dbl&gt;,
#   `1887.0` &lt;dbl&gt;, `1890.0` &lt;dbl&gt;, `1895.0` &lt;dbl&gt;, `1897.0` &lt;dbl&gt;,
#   `1900.0` &lt;dbl&gt;, `1901.0` &lt;dbl&gt;, `1903.0` &lt;dbl&gt;, `1905.0` &lt;dbl&gt;,
#   `1906.0` &lt;dbl&gt;, `1907.0` &lt;dbl&gt;, `1910.0` &lt;dbl&gt;, `1911.0` &lt;dbl&gt;,
#   `1915.0` &lt;dbl&gt;, `1920.0` &lt;dbl&gt;, `1921.0` &lt;dbl&gt;, `1925.0` &lt;dbl&gt;,
#   `1928.0` &lt;dbl&gt;, `1930.0` &lt;dbl&gt;, `1931.0` &lt;dbl&gt;, `1935.0` &lt;dbl&gt;,
#   `1937.0` &lt;dbl&gt;, `1939.0` &lt;dbl&gt;, `1940.0` &lt;dbl&gt;, `1941.0` &lt;dbl&gt;,
#   `1942.0` &lt;dbl&gt;, `1943.0` &lt;dbl&gt;, `1944.0` &lt;dbl&gt;, `1945.0` &lt;dbl&gt;,
#   `1946.0` &lt;dbl&gt;, `1947.0` &lt;dbl&gt;, `1948.0` &lt;dbl&gt;, `1949.0` &lt;dbl&gt;,
#   `1950.0` &lt;dbl&gt;, `1951.0` &lt;dbl&gt;, `1952.0` &lt;dbl&gt;, `1953.0` &lt;dbl&gt;,
#   `1954.0` &lt;dbl&gt;, `1955.0` &lt;dbl&gt;, `1956.0` &lt;dbl&gt;, `1957.0` &lt;dbl&gt;,
#   `1958.0` &lt;dbl&gt;, `1959.0` &lt;dbl&gt;, `1960.0` &lt;dbl&gt;, `1961.0` &lt;dbl&gt;,
#   `1962.0` &lt;dbl&gt;, `1963.0` &lt;dbl&gt;, `1964.0` &lt;dbl&gt;, `1965.0` &lt;dbl&gt;,
#   `1966.0` &lt;dbl&gt;, `1967.0` &lt;dbl&gt;, `1968.0` &lt;dbl&gt;, `1969.0` &lt;dbl&gt;,
#   `1970.0` &lt;dbl&gt;, `1971.0` &lt;dbl&gt;, `1972.0` &lt;dbl&gt;, `1973.0` &lt;dbl&gt;,
#   `1974.0` &lt;dbl&gt;, `1975.0` &lt;dbl&gt;, `1976.0` &lt;dbl&gt;, `1977.0` &lt;dbl&gt;,
#   `1978.0` &lt;dbl&gt;, `1979.0` &lt;dbl&gt;, `1980.0` &lt;dbl&gt;, `1981.0` &lt;dbl&gt;,
#   `1982.0` &lt;dbl&gt;, `1983.0` &lt;dbl&gt;, `1984.0` &lt;dbl&gt;, `1985.0` &lt;dbl&gt;,
#   `1986.0` &lt;dbl&gt;, `1987.0` &lt;dbl&gt;, `1988.0` &lt;dbl&gt;, `1989.0` &lt;dbl&gt;,
#   `1990.0` &lt;dbl&gt;, `1991.0` &lt;dbl&gt;, `1992.0` &lt;dbl&gt;, `1993.0` &lt;dbl&gt;,
#   `1994.0` &lt;dbl&gt;, `1995.0` &lt;dbl&gt;, `1996.0` &lt;dbl&gt;, …</code></pre>
<pre class="r"><code>marriage_tidy &lt;- age_marriage %&gt;% 
  rename(country = 1) %&gt;% 
  gather(year, age_first_marriage, -country) %&gt;% 
  mutate(year = readr::parse_number(year))
marriage_tidy</code></pre>
<pre><code># A tibble: 21,460 x 3
   country      year age_first_marriage
   &lt;chr&gt;       &lt;dbl&gt;              &lt;dbl&gt;
 1 Afghanistan  1616                 NA
 2 Albania      1616                 NA
 3 Algeria      1616                 NA
 4 Angola       1616                 NA
 5 Argentina    1616                 NA
 6 Armenia      1616                 NA
 7 Australia    1616                 NA
 8 Austria      1616                 NA
 9 Azerbaijan   1616                 NA
10 Bahamas      1616                 NA
# ... with 21,450 more rows</code></pre>
<p>Pathological in the same way as the previous…</p>
<pre class="r"><code># yet another example dataset
alcohol &lt;- read_xlsx(here::here(&quot;data&quot;, &quot;indicator alcohol consumption  20100830.xlsx&quot;),
                      sheet = 1) 

alcohol</code></pre>
<pre><code># A tibble: 189 x 25
   ..1   `1985.0` `1986.0` `1987.0` `1988.0` `1989.0` `1990.0` `1991.0`
   &lt;chr&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1 Afgh…       NA       NA       NA       NA       NA       NA       NA
 2 Alba…       NA       NA       NA       NA       NA       NA       NA
 3 Alge…       NA       NA       NA       NA       NA       NA       NA
 4 Ando…       NA       NA       NA       NA       NA       NA       NA
 5 Ango…       NA       NA       NA       NA       NA       NA       NA
 6 Anti…       NA       NA       NA       NA       NA       NA       NA
 7 Arge…       NA       NA       NA       NA       NA       NA       NA
 8 Arme…       NA       NA       NA       NA       NA       NA       NA
 9 Aust…       NA       NA       NA       NA       NA       NA       NA
10 Aust…       NA       NA       NA       NA       NA       NA       NA
# ... with 179 more rows, and 17 more variables: `1992.0` &lt;dbl&gt;,
#   `1993.0` &lt;dbl&gt;, `1994.0` &lt;dbl&gt;, `1995.0` &lt;dbl&gt;, `1996.0` &lt;dbl&gt;,
#   `1997.0` &lt;lgl&gt;, `1998.0` &lt;dbl&gt;, `1999.0` &lt;lgl&gt;, `2000.0` &lt;dbl&gt;,
#   `2001.0` &lt;dbl&gt;, `2002.0` &lt;dbl&gt;, `2003.0` &lt;dbl&gt;, `2004.0` &lt;dbl&gt;,
#   `2005.0` &lt;dbl&gt;, `2006.0` &lt;dbl&gt;, `2007.0` &lt;dbl&gt;, `2008.0` &lt;dbl&gt;</code></pre>
<pre class="r"><code>alc_tidy &lt;- alcohol %&gt;% 
  rename(country = 1) %&gt;% 
  gather(year, alc_per_adult, -country) %&gt;% 
  mutate(year = readr::parse_number(year))
alc_tidy</code></pre>
<pre><code># A tibble: 4,536 x 3
   country              year alc_per_adult
   &lt;chr&gt;               &lt;dbl&gt;         &lt;dbl&gt;
 1 Afghanistan          1985            NA
 2 Albania              1985            NA
 3 Algeria              1985            NA
 4 Andorra              1985            NA
 5 Angola               1985            NA
 6 Antigua and Barbuda  1985            NA
 7 Argentina            1985            NA
 8 Armenia              1985            NA
 9 Australia            1985            NA
10 Austria              1985            NA
# ... with 4,526 more rows</code></pre>
<ul>
<li>Join this new data using <code>dplyr</code> with the <code>reprohealth</code> data you have been working with, and make some observations about the process and result. You may need:
<ul>
<li><a href="http://moderndive.netlify.com/5-wrangling.html#joins">ModernDive section you read on joins</a></li>
<li>This <a href="http://stat545.com/bit001_dplyr-cheatsheet.html">tutorial by Jenny Bryan</a></li>
<li>This <a href="http://r4ds.had.co.nz/relational-data.html">chapter in R4DS</a></li>
<li><strong>Hint!:</strong> you’ll probably need to use <code>tidyr::gather</code> on your new dataset first, before the join. Tread carefully here!</li>
<li>Remember, if you’re dissatisfied with a result, discuss the problem, what you’ve tried and move on (remember my 30-minute rule).</li>
</ul></li>
</ul>
<pre class="r"><code># let&#39;s do this
int_repro &lt;- wb_stats %&gt;% 
  left_join(internet_tidy)
agem_repro &lt;- wb_stats %&gt;% 
  left_join(marriage_tidy)
alc_repro &lt;- wb_stats %&gt;% 
  left_join(alc_tidy)</code></pre>
</div>
<div id="explore-questions" class="section level2">
<h2>Explore questions</h2>
<p>In the <a href="http://r4ds.had.co.nz/exploratory-data-analysis.html">R4DS Exploratory Data Analysis chapter</a>, the authors say:</p>
<blockquote>
<p>“Your goal during EDA is to develop an understanding of your data. The easiest way to do this is to use questions as tools to guide your investigation…EDA is fundamentally a creative process. And like most creative processes, the key to asking quality questions is to generate a large quantity of questions.”</p>
</blockquote>
<p>Your mission in this last section is to pick at least three of the tasks below and attack each with a <strong>table and figure</strong>. In your narrative, reword each “task” into a logical research question(s). Make observations about what your tables/figures show and about the process. If you want to do something comparable but different, i.e. swap one quantitative variable for another, be our guest! If you are feeling inspired and curious, then we’re doing this right. Go for it.</p>
<div id="task-menu" class="section level3">
<h3>Task menu</h3>
<ul>
<li><p>Get the maximum and minimum of children per woman (<code>tot_fertility</code>) for all continents.</p></li>
<li><p>Look at the spread of children per woman (<code>tot_fertility</code>) across countries within the continents.</p></li>
<li><p>Compute a trimmed mean of maternal mortality (<code>mat_mortality</code>) for different years. Or a weighted mean, weighting by population. Just try something other than the plain vanilla mean.</p></li>
<li><p>How does maternal mortality (<code>mat_mortality</code>) vary across different continents?</p></li>
<li><p>Report the absolute and/or relative abundance of countries with low maternal mortality (<code>mat_mortality</code>) over time by continent: Compute some measure of worldwide maternal mortality - you decide - a mean or median or some other quantile or perhaps your current age. Then determine how many countries on each continent have a maternal mortality rate less than this benchmark, for each year.</p></li>
<li><p>Find countries with interesting stories. Open-ended and, therefore, hard. Promising but unsuccessful attempts are encouraged. This will generate interesting questions to follow up on in class.</p></li>
<li><p>Make up your own! Between the coverage in class, readings, and DataCamp plus the list above, you get the idea.</p></li>
</ul>
</div>
<div id="companion-graphs" class="section level3">
<h3>Companion graphs</h3>
<p>For each table, make sure to include a relevant figure. One tip for starting is to draw out on paper what you want your x- and y-axis to be first and what your <code>geom</code> is; that is, start by drawing the plot you want <code>ggplot</code> to give you.</p>
<p>Your figure does not have to depict every last number from the data aggregation result. Use your judgement. It just needs to complement the table, add context, and allow for some sanity checking both ways.</p>
<p>Notice which figures are easy/hard to make, which data formats make better inputs for plotting functions vs. for human-friendly tables.</p>
</div>
</div>
<div id="report-your-process" class="section level2">
<h2>Report your process</h2>
<p>You’re encouraged to reflect on what was hard/easy, problems you solved, helpful tutorials you read, etc. Give credit to your sources, whether it’s a blog post, a fellow student, an online tutorial, etc.</p>
</div>
<div id="grading" class="section level2">
<h2>Grading</h2>
<p>This lab is worth 5 points total, scored as follows:</p>
<p>2 points for your initial EDA:</p>
<ul>
<li><p>2 (Strong attempt): EDA reflects strong independent problem solving, with clearly thought out attempts to approach questions and problems, and a diligent and honest effort to answer questions and find the solutions.</p></li>
<li><p>1 (Adequate attempt): EDA reflects some attempt to approach the posed tasks, but approach appears to be superficial and lacks depth of analysis. No obvious mistakes. Pleasant to read. No head scratchers. Solid and complete.</p></li>
<li><p>0 (No attempt or incomplete): Didn’t tackle all sections. Or didn’t make companion graphs. Or didn’t interpret anything but left it all to the “reader”. Or more than one technical problem that is relatively easy to fix.</p></li>
</ul>
<p>3 points for the quality of the final EDA:</p>
<ul>
<li><p>3 (Exceptional): EDA is thorough, concise, and clearly demonstrates ability to competently and thoughtfully work with data as well as how to report on that process as a complement to code. Impeccable organization and presentation in the report.</p></li>
<li><p>2 (Adequate): Hits all the elements in all sections. No obvious mistakes. Pleasant to read. No head scratchers. Solid and complete.</p></li>
<li><p>1 (Inadequate): EDA attempts to address question with substantial inaccuracies in analysis and/or interpretation. Didn’t tackle all sections. Or didn’t make companion graphs. Or didn’t interpret anything but left it all to the “reader”. Or more than one technical problem that is relatively easy to fix.</p></li>
<li><p>0 (Insufficient): Nothing to grade, assignment was late.</p></li>
</ul>
</div>

<p>
<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">
<img alt="Creative Commons License" style="border-width:0" src="by-nc.png" height="400" width="65"/></a>
</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
